(()=>{"use strict";const e=(e,n)=>({save:()=>{const o=t(e);o.push(n);const l=JSON.stringify(o);localStorage.setItem(e,l)},override:()=>{localStorage.setItem(e,n)}}),t=e=>JSON.parse(localStorage.getItem(e))||JSON.parse(JSON.stringify([])),n=document.querySelector(".content"),o=(document.querySelector(".add-task"),()=>{const e=t("projectList"),n=("currentProjectId",JSON.parse(localStorage.getItem("currentProjectId")));let o=e[n];console.log(e),console.log(n),console.log(typeof n),console.log(`first project: ${e[0].name}`),console.log(`currentProject: ${o} `),console.log(`current project name: ${o.name}`),o.tasks.length&&console.log("at least 1 task(s)")}),l=()=>{const e=document.querySelector(".createTaskBtn"),t=document.querySelector(".cancelTaskBtn"),n=document.querySelector(".add-task"),o=document.querySelector(".overlay"),l=document.querySelector(".taskFormContainer");e.addEventListener("click",(()=>{console.log("create task btn clicked"),n.style.display="block",o.remove(),l.remove()})),t.addEventListener("click",(()=>{console.log("cancel task btn clicked"),n.style.display="block",o.remove(),l.remove()})),o.addEventListener("click",(()=>{n.style.display="block",o.remove(),l.remove()}))},r=()=>{const e=document.querySelector(".projectInput");let t=(e=>{const t=[];return{name:e,tasks:t,length:t.length}})(e.value);console.log(t),console.log(typeof t),s(),i(t),d(),e.value=""},i=t=>{e("projectList",t).save(),console.log(`save ${t.name} to local storage`)},d=()=>{let e=t("projectList");const n=document.querySelector(".projectContent");n.innerHTML="";for(let t=0;t<e.length;t++){const o=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");o.classList.add("projectContainer"),o.setAttribute("data-project-id",t),l.textContent=e[t].name,r.textContent=e[t].length,r.classList.add("projectLength"),i.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="24" x2="38" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="34" x2="38" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="44" x2="38" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="54" x2="38" y2="54"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="24" x2="8" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="34" x2="8" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="44" x2="8" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="54" x2="8" y2="54"></line> <polyline fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="14,8 1,8 1,63 45,63 45,8 32,8 "></polyline> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="27,5 27,1 19,1 19,5 15,5 13,13 33,13 31,5 "></polygon> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="55,1 55,54 59,62 63,54 63,1 "></polygon> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="55" y1="11" x2="63" y2="11"></line> </g></svg>',o.appendChild(i),o.appendChild(l),o.appendChild(r),n.appendChild(o)}};function c(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="none",t.style.display="block"}function s(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="block",t.style.display="none"}document.querySelector(".sidebar"),document.querySelector(".add-project"),d(),document.querySelector(".sidebar").appendChild((()=>{const e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div"),o=document.createElement("button"),l=document.createElement("button");return e.classList.add("projectForm"),n.classList.add("btnContainer"),t.setAttribute("type","text"),t.classList.add("projectInput"),t.placeholder="Project Name",o.textContent="Create",o.setAttribute("type","button"),o.classList.add("createBtn"),l.textContent="Cancel",l.setAttribute("type","button"),l.classList.add("cancelBtn"),n.appendChild(o),n.appendChild(l),e.appendChild(t),e.appendChild(n),{projectForm:e}})().projectForm),document.querySelector(".add-project").addEventListener("click",c),document.querySelector(".createBtn").addEventListener("click",r),document.querySelector(".cancelBtn").addEventListener("click",s),t("projectList"),document.querySelectorAll(".projectContainer").forEach((t=>{const r=t.getAttribute("data-project-id");console.log(t),console.log(r),t.addEventListener("click",(()=>{e("currentProjectId",r).override(),console.log(`save ${r} to local storage`),o(),(()=>{const e=document.querySelector(".add-task"),t=document.createElement("div"),o=document.createElement("div");o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="24px" height="24px" fill-rule="evenodd"><path fill-rule="evenodd" d="M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"/></svg>\n    ';const l=document.createElement("div");null!==e&&e.remove(),t.classList.add("add-task"),l.classList.add("add-div"),l.innerHTML="ADD TASK",t.appendChild(o),t.appendChild(l),n.appendChild(t)})(),(()=>{const e=document.querySelector(".add-task");e.addEventListener("click",(()=>{e.style.display="none",(()=>{const e=document.createElement("div"),t=document.createElement("div");e.classList.add("overlay"),t.classList.add("taskFormContainer"),t.innerHTML='<form action="" method="">\n        <div class="form-control">\n            <div>\n                <label for="title">TITLE: *</label>\n                <input type="text" name="title" id="title" required placeholder="LeetCode"\n                    minlength="2" maxlength="20" autofocus>\n            </div>\n            <div>\n                <label for="details">DETAILS: </label>\n                <textarea name="details" id="details" rows="4" cols="50">\n                </textarea>\n            </div>\n            <div>\n                <label for="due">DUE DAY: *</label>\n                <input type="date" name="due" id="due" required \n                    placeholder="05/22/2023">\n            </div>\n            <div>\n                <label for="priority">PRIORITY: *</label>\n                <div class="priority">\n                    <input type="radio" id="high" name="priority" value="HIGH">\n                    <label for="high">HIGH</label>\n                    <input type="radio" id="medium" name="priority" value="MEDIUM" checked>\n                    <label for="medium">MEDIUM</label>\n                    <input type="radio" id="low" name="priority" value="LOW">\n                    <label for="low">LOW</label>\n                </div>\n            </div>\n            <div class="taskBtnContainer">\n                <button type="button" class="createTaskBtn">CREATE TASK</button>\n                <button type="button" class="cancelTaskBtn">CANCEL</button>\n            </div>\n        </div>\n    \n    </div>\n    ',n.appendChild(e),n.appendChild(t)})(),l()}))})()}))})),document.querySelector(".projectForm").style.display="none"})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLHFCQUVoQ3JCLEVBQWtCYyxVQUNsQiw4Z0RBcUNBL0IsRUFBUXlDLFlBQVl6QixHQUNwQmhCLEVBQVF5QyxZQUFZeEIsRUFBa0IsRUM5RWxDeUMsR0FDQTlDLEdBQXVCLEdBQ3pCLEVDZ0RNK0MsRUFBbUIsR0FDckIsSUV6RVUxRCxTQUFTQyxjQUFjLGdCQUMvQmlCLE1BQU1DLFFBQVUsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy90YXNrRm9ybS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdGFzay5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdG9yYWdlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvLyBTYXZlIG5ldyBvYmplY3QgdG8gYXJyYXlcbiAgICBjb25zdCBzYXZlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBnZXRBcnJheSA9IGdldFN0b3JhZ2Uoa2V5KTtcbiAgICAgICAgLy8gSW1wb3J0YW50OiB0byBzdG9yZSB0aGUgbW9kaWZpZWQgYXJyYXkgdG8gbG9jYWwgc3RvcmFnZSxcbiAgICAgICAgLy8gcHVzaCBuZXcgdmFsdWUgdG8gdGhlIFwib2xkXCIgYXJyYXlcbiAgICAgICAgLy8gYW5kIHN0cmluZ2lmeSBcIm9sZFwiIGFycmF5IHdpdGhvdXQgY3JlYXRpbmcgbmV3XG4gICAgICAgIC8vIGFycmF5IGJlY2F1c2UgcHVzaCgpIHdpbGwgcmV0dXJuIG51bWJlciBvZiBlbGVtZW50XG4gICAgICAgIC8vIGluc2lkZSBhcnJheSBcbiAgICAgICAgLy8gZS5nOiBjb25zdCBhcnJheSA9IFtdLnB1c2gob2JqZWN0KTsgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFycmF5KSByZXR1cm5zIDFcbiAgICAgICAgZ2V0QXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRBcnJheSA9IEpTT04uc3RyaW5naWZ5KGdldEFycmF5KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBzZXJpYWxpemVkQXJyYXkpO1xuICAgIH07XG4gICAgLy8gb3ZlcnJpZGUgb2xkIHZhbHVlIHRvIGtleVxuICAgIGNvbnN0IG92ZXJyaWRlID0gKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiB7IHNhdmUsIG92ZXJyaWRlIH07XG59O1xuLy8gZ2V0IGFycmF5IGFzIHZhbHVlXG5jb25zdCBnZXRTdG9yYWdlID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSBcbiAgICAgICAgICAgIHx8IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoW10pKTtcbn07XG4vLyBnZXQgc2luZ2xlIG51bWJlciBhcyB2YWx1ZVxuY29uc3QgZ2V0T25lVmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xufTtcblxuZXhwb3J0IHsgc3RvcmFnZSwgZ2V0U3RvcmFnZSwgZ2V0T25lVmFsdWUgfTsiLCJpbXBvcnQgeyBnZXRTdG9yYWdlLCBnZXRPbmVWYWx1ZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcblxuY29uc3QgUmVuZGVyVGFza3MgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBnZXRTdG9yYWdlKCdwcm9qZWN0TGlzdCcpO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SWQgPSBnZXRPbmVWYWx1ZSgnY3VycmVudFByb2plY3RJZCcpO1xuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RMaXN0W2N1cnJlbnRQcm9qZWN0SWRdO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdElkKTtcbiAgICBjb25zb2xlLmxvZyh0eXBlb2YgY3VycmVudFByb2plY3RJZCk7XG4gICAgXG4gICAgLy8gcHJvYmxlbTogaWYgY3VycmVudFByb2plY3RJZCBpcyAwIChmaXJzdCBwcm9qZWN0KVxuICAgIC8vICBpbiBsb2NhbFN0b3JhZ2UsIGl0IGJlY2FtZSBbXSBhbmQgdHlwZW9mIG9iamVjdCAgXG4gICAgLy8gY2F1c2U6IFswXT9cbiAgICAvLyBpZih0eXBlb2YgY3VycmVudFByb2plY3RJZCAhPT0gJ251bWJlcicpIHtcbiAgICAvLyAgICAgY3VycmVudFByb2plY3QgPSBwcm9qZWN0TGlzdFswXTtcbiAgICAvLyAgICAgY29uc29sZS5sb2coY3VycmVudFByb2plY3QpO1xuICAgIC8vIH1cbiAgICBjb25zb2xlLmxvZyhgZmlyc3QgcHJvamVjdDogJHtwcm9qZWN0TGlzdFswXS5uYW1lfWApO1xuICAgIGNvbnNvbGUubG9nKGBjdXJyZW50UHJvamVjdDogJHtjdXJyZW50UHJvamVjdH0gYClcbiAgICBjb25zb2xlLmxvZyhgY3VycmVudCBwcm9qZWN0IG5hbWU6ICR7Y3VycmVudFByb2plY3QubmFtZX1gKVxuXG4gICAgaWYoY3VycmVudFByb2plY3QudGFza3MubGVuZ3RoKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2F0IGxlYXN0IDEgdGFzayhzKScpXG4gICAgfVxufTtcblxuY29uc3QgUmVuZGVyQWRkVGFza0J0biA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyRXhpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3ZnLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNIDExIDIgTCAxMSAxMSBMIDIgMTEgTCAyIDEzIEwgMTEgMTMgTCAxMSAyMiBMIDEzIDIyIEwgMTMgMTMgTCAyMiAxMyBMIDIyIDExIEwgMTMgMTEgTCAxMyAyIFpcIi8+PC9zdmc+XG4gICAgYDtcbiAgICBjb25zdCBhZGREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIC8vIENsZWFyIHByZXZpb3VzIGFkZCB0YXNrIGJ0blxuICAgIGlmKGFkZFRhc2tDb250YWluZXJFeGlzdCAhPT0gbnVsbCl7XG4gICAgICAgIGFkZFRhc2tDb250YWluZXJFeGlzdC5yZW1vdmUoKTtcbiAgICB9XG4gICAgLy8gQWRkIG5ldyBhZGQgdGFzayBidG5cbiAgICBhZGRUYXNrQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FkZC10YXNrJyk7XG4gICAgYWRkRGl2LmNsYXNzTGlzdC5hZGQoJ2FkZC1kaXYnKVxuICAgIGFkZERpdi5pbm5lckhUTUwgPSAnQUREIFRBU0snO1xuICAgIGFkZFRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICBhZGRUYXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZERpdik7XG5cbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGFkZFRhc2tDb250YWluZXIpO1xufTtcblxuY29uc3QgUmVuZGVyVGFza0Zvcm0gPSAoKSA9PiB7XG4gICAgLy8gY29uc3QgdGFza0Zvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAvLyBjb25zdCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIC8vIGNvbnN0IG5hbWVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAvLyBjb25zdCBuYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIC8vIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAvLyBjb25zdCBkZXNjcmlwdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vIGNvbnN0IGRlc2NyaXB0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIC8vIGNvbnN0IGR1ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vIGNvbnN0IGR1ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAvLyBjb25zdCBwcmlvcml0eURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vIGNvbnN0IHByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIFxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCB0YXNrRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdvdmVybGF5Jyk7IFxuICAgIHRhc2tGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Rhc2tGb3JtQ29udGFpbmVyJyk7XG5cbiAgICB0YXNrRm9ybUNvbnRhaW5lci5pbm5lckhUTUwgPSBcbiAgICBgPGZvcm0gYWN0aW9uPVwiXCIgbWV0aG9kPVwiXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRpdGxlXCI+VElUTEU6ICo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0aXRsZVwiIGlkPVwidGl0bGVcIiByZXF1aXJlZCBwbGFjZWhvbGRlcj1cIkxlZXRDb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgbWlubGVuZ3RoPVwiMlwiIG1heGxlbmd0aD1cIjIwXCIgYXV0b2ZvY3VzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkZXRhaWxzXCI+REVUQUlMUzogPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgbmFtZT1cImRldGFpbHNcIiBpZD1cImRldGFpbHNcIiByb3dzPVwiNFwiIGNvbHM9XCI1MFwiPlxuICAgICAgICAgICAgICAgIDwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImR1ZVwiPkRVRSBEQVk6ICo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJkdWVcIiBpZD1cImR1ZVwiIHJlcXVpcmVkIFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjA1LzIyLzIwMjNcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicHJpb3JpdHlcIj5QUklPUklUWTogKjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByaW9yaXR5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cImhpZ2hcIiBuYW1lPVwicHJpb3JpdHlcIiB2YWx1ZT1cIkhJR0hcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImhpZ2hcIj5ISUdIPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwibWVkaXVtXCIgbmFtZT1cInByaW9yaXR5XCIgdmFsdWU9XCJNRURJVU1cIiBjaGVja2VkPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwibWVkaXVtXCI+TUVESVVNPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwibG93XCIgbmFtZT1cInByaW9yaXR5XCIgdmFsdWU9XCJMT1dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxvd1wiPkxPVzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YXNrQnRuQ29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjcmVhdGVUYXNrQnRuXCI+Q1JFQVRFIFRBU0s8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNhbmNlbFRhc2tCdG5cIj5DQU5DRUw8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBcbiAgICA8L2Rpdj5cbiAgICBgO1xuICAgIFxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZCh0YXNrRm9ybUNvbnRhaW5lcik7XG59O1xuLy8gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJwcmlvcml0eUJ0blwiIGRhdGEtcHJpb3JpdHk9XCJISUdIXCI+SElHSDwvYnV0dG9uPlxuLy8gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJwcmlvcml0eUJ0blwiIGRhdGEtcHJpb3JpdHk9XCJNRURJVU1cIj5NRURJVU08L2J1dHRvbj5cbi8vIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicHJpb3JpdHlCdG5cIiBkYXRhLXByaW9yaXR5PVwiTE9XXCI+TE9XPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIFxuXG5cblxuZXhwb3J0IHsgUmVuZGVyVGFza3MsIFJlbmRlckFkZFRhc2tCdG4sIFJlbmRlclRhc2tGb3JtIH07XG4iLCJpbXBvcnQgeyBSZW5kZXJBZGRUYXNrQnRuLCBSZW5kZXJUYXNrRm9ybSB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG5cbmNvbnN0IHRhc2sgPSAodGl0bGUsIGRldGFpbHMsIGR1ZURheSwgcHJpb3JpdHkgPSAnTWVkaXVtJywgY29tcGxldGVkID0gZmFsc2UpID0+IHtcbiAgICBsZXQgX3RpdGxlID0gdGl0bGU7XG4gICAgbGV0IF9kZXRhaWxzID0gZGV0YWlscztcbiAgICBsZXQgX2R1ZURheSA9IGR1ZURheTtcbiAgICBsZXQgX3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgbGV0IF9jb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdGl0bGUoKSB7IHJldHVybiBfdGl0bGU7IH0sXG4gICAgICAgIHNldCB0aXRsZShuZXdUaXRsZSkgeyBfdGl0bGUgPSBuZXdUaXRsZTsgfSxcbiAgICAgICAgZ2V0IGRldGFpbHMoKSB7IHJldHVybiBfZGV0YWlsczsgfSxcbiAgICAgICAgc2V0IGRldGFpbHMobmV3RGV0YWlscykgeyBfZGV0YWlscyA9IG5ld0RldGFpbHM7IH0sXG4gICAgICAgIGdldCBkdWVEYXkoKSB7IHJldHVybiBfZHVlRGF5OyB9LFxuICAgICAgICBzZXQgZHVlRGF5KG5ld0R1ZURheSkgeyBfZHVlRGF5ID0gbmV3RHVlRGF5OyB9LFxuICAgICAgICBnZXQgcHJpb3JpdHkoKSB7IHJldHVybiBfcHJpb3JpdHk7IH0sXG4gICAgICAgIHNldCBwcmlvcml0eShuZXdQcmlvcml0eSkgeyBfcHJpb3JpdHkgPSBuZXdQcmlvcml0eTsgfSxcbiAgICAgICAgZ2V0IGNvbXBsZXRlZCgpIHsgcmV0dXJuIF9jb21wbGV0ZWQ7IH0sXG4gICAgICAgIHNldCBjb21wbGV0ZWQobmV3Q29tcGxldGVkKSB7IF9jb21wbGV0ZWQgPSBuZXdDb21wbGV0ZWQ7IH0sXG4gICAgfVxufTsgXG5cbmNvbnN0IHByb2Nlc3NUYXNrSW5wdXQgPSAoKSA9PiB7XG4gICAgXG59O1xuXG5jb25zdCB0YXNrRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC10YXNrJyk7XG5cbiAgICBhZGRUYXNrQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBcbiAgICAgICAgYWRkVGFza0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBSZW5kZXJUYXNrRm9ybSgpO1xuICAgICAgICB0YXNrRm9ybUV2ZW50TGlzdGVuZXIoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IHRhc2tGb3JtRXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICBjb25zdCBjcmVhdGVUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZVRhc2tCdG4nKTtcbiAgICBjb25zdCBjYW5jZWxUYXNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbmNlbFRhc2tCdG4nKTtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC10YXNrJyk7XG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5Jyk7XG5cbiAgICBjb25zdCB0YXNrRm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrRm9ybUNvbnRhaW5lcicpO1xuXG4gICAgY3JlYXRlVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZSB0YXNrIGJ0biBjbGlja2VkJylcbiAgICAgICAgYWRkVGFza0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgdGFza0Zvcm1Db250YWluZXIucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgY2FuY2VsVGFza0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NhbmNlbCB0YXNrIGJ0biBjbGlja2VkJylcbiAgICAgICAgYWRkVGFza0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTtcbiAgICAgICAgdGFza0Zvcm1Db250YWluZXIucmVtb3ZlKCk7XG4gICAgfSlcbiAgICAvLyBpZiBvdmVybGF5IGlzIGNsaWNrZWQsIHJlbW92ZSBvdmVybGF5IGFuZCBmb3JtIFxuICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFkZFRhc2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAgIHRhc2tGb3JtQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgdGFza0V2ZW50TGlzdGVuZXIgfTtcblxuIiwiaW1wb3J0IHsgc3RvcmFnZSwgZ2V0U3RvcmFnZSB9IGZyb20gJy4vc3RvcmFnZSc7XG5pbXBvcnQgIHsgaGlkZUZvcm0gfSAgZnJvbSAnLi9wcm9qZWN0Rm9ybSc7XG5pbXBvcnQgeyBSZW5kZXJUYXNrcywgUmVuZGVyQWRkVGFza0J0biB9IGZyb20gJy4vdGFza0Zvcm0nO1xuaW1wb3J0IHsgdGFza0V2ZW50TGlzdGVuZXIgfSBmcm9tICcuL3Rhc2snO1xuXG5cbi8vIGxldCBwcm9qZWN0TGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0TGlzdCcpO1xuLy8gcHJvamVjdExpc3QgPSBwcm9qZWN0TGlzdD8gSlNPTi5wYXJzZShwcm9qZWN0TGlzdCk6IFtdO1xuXG5jb25zdCBwcm9qZWN0ID0gKHByb2plY3ROYW1lKSA9PiB7XG4gICAgY29uc3QgdGFza3MgPSBbXTtcbiAgICBjb25zdCBsZW5ndGggPSB0YXNrcy5sZW5ndGg7XG4gICAgY29uc3QgbmFtZSA9IHByb2plY3ROYW1lO1xuXG4gICAgcmV0dXJuIHsgbmFtZSwgdGFza3MsIGxlbmd0aCB9XG59O1xuXG5jb25zdCBwcm9jZXNzUHJvamVjdElucHV0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0SW5wdXQnKTtcbiAgICBsZXQgbmV3UHJvamVjdCA9IHByb2plY3QocHJvamVjdElucHV0LnZhbHVlKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhuZXdQcm9qZWN0KVxuICAgIGNvbnNvbGUubG9nKHR5cGVvZiBuZXdQcm9qZWN0KTtcbiAgICBoaWRlRm9ybSgpO1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZShuZXdQcm9qZWN0KTtcbiAgICByZW5kZXJQcm9qZWN0cygpO1xuXG4gICAgLy8gY2xlYXIgcHJvamVjdCBpbnB1dCBhZnRlciBzYXZlXG4gICAgcHJvamVjdElucHV0LnZhbHVlID0gJyc7XG59O1xuXG5jb25zdCBzYXZlVG9Mb2NhbFN0b3JhZ2UgPSAocHJvamVjdCkgPT4ge1xuICAgIHN0b3JhZ2UoJ3Byb2plY3RMaXN0JywgcHJvamVjdCkuc2F2ZSgpO1xuICAgIGNvbnNvbGUubG9nKGBzYXZlICR7cHJvamVjdC5uYW1lfSB0byBsb2NhbCBzdG9yYWdlYCkgIFxufTtcblxuY29uc3QgcmVuZGVyUHJvamVjdHMgPSAoKSA9PiB7XG4gICAgbGV0IHByb2plY3RMaXN0ID0gZ2V0U3RvcmFnZSgncHJvamVjdExpc3QnKTtcblxuICAgIGNvbnN0IHByb2plY3RDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RDb250ZW50Jyk7XG4gICAgLy8gY2xlYXIgcHJvamVjdCBjb250ZW50XG4gICAgcHJvamVjdENvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgLy8gcmVuZGVyIG5ldyBwcm9qZWN0IGNvbnRlbnRcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvamVjdExpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RMZW5ndGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3Qgc3ZnQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Q29udGFpbmVyJyk7XG4gICAgICAgIC8vIHNldCBwcm9qZWN0IGlkIHRvIHNwZWNpZmljIHByb2plY3QgY29udGFpbmVyXG4gICAgICAgIHByb2plY3RDb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnLCBpKTtcblxuICAgICAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IHByb2plY3RMaXN0W2ldLm5hbWU7XG4gICAgICAgIHByb2plY3RMZW5ndGgudGV4dENvbnRlbnQgPSBwcm9qZWN0TGlzdFtpXS5sZW5ndGg7XG4gICAgICAgIHByb2plY3RMZW5ndGguY2xhc3NMaXN0LmFkZCgncHJvamVjdExlbmd0aCcpO1xuICAgICAgICAvLyBhcHBlbmQgc3ZnIFxuXG4gICAgICAgIHN2Z0NvbnRhaW5lci5pbm5lckhUTUwgPSBgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJMYXllcl8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDY0IDY0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiBmaWxsPVwiI2ZmZmZmZlwiPjxnIGlkPVwiU1ZHUmVwb19iZ0NhcnJpZXJcIiBzdHJva2Utd2lkdGg9XCIwXCI+PC9nPjxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPjxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjI0XCIgeDI9XCIzOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMzRcIiB4Mj1cIjM4XCIgeTI9XCIzNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCI0NFwiIHgyPVwiMzhcIiB5Mj1cIjQ0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjU0XCIgeDI9XCIzOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMjRcIiB4Mj1cIjhcIiB5Mj1cIjI0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjM0XCIgeDI9XCI4XCIgeTI9XCIzNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI0NFwiIHgyPVwiOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiNTRcIiB4Mj1cIjhcIiB5Mj1cIjU0XCI+PC9saW5lPiA8cG9seWxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBwb2ludHM9XCIxNCw4IDEsOCAxLDYzIDQ1LDYzIDQ1LDggMzIsOCBcIj48L3BvbHlsaW5lPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjI3LDUgMjcsMSAxOSwxIDE5LDUgMTUsNSAxMywxMyAzMywxMyAzMSw1IFwiPjwvcG9seWdvbj4gPHBvbHlnb24gZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBwb2ludHM9XCI1NSwxIDU1LDU0IDU5LDYyIDYzLDU0IDYzLDEgXCI+PC9wb2x5Z29uPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiNTVcIiB5MT1cIjExXCIgeDI9XCI2M1wiIHkyPVwiMTFcIj48L2xpbmU+IDwvZz48L3N2Zz5gO1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHN2Z0NvbnRhaW5lcik7XG4gICAgICAgIC8vIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJMYXllcl8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDY0IDY0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiBmaWxsPVwiI2ZmZmZmZlwiPjxnIGlkPVwiU1ZHUmVwb19iZ0NhcnJpZXJcIiBzdHJva2Utd2lkdGg9XCIwXCI+PC9nPjxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPjxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjI0XCIgeDI9XCIzOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMzRcIiB4Mj1cIjM4XCIgeTI9XCIzNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCI0NFwiIHgyPVwiMzhcIiB5Mj1cIjQ0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjU0XCIgeDI9XCIzOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMjRcIiB4Mj1cIjhcIiB5Mj1cIjI0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjM0XCIgeDI9XCI4XCIgeTI9XCIzNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI0NFwiIHgyPVwiOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiNTRcIiB4Mj1cIjhcIiB5Mj1cIjU0XCI+PC9saW5lPiA8cG9seWxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBwb2ludHM9XCIxNCw4IDEsOCAxLDYzIDQ1LDYzIDQ1LDggMzIsOCBcIj48L3BvbHlsaW5lPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjI3LDUgMjcsMSAxOSwxIDE5LDUgMTUsNSAxMywxMyAzMywxMyAzMSw1IFwiPjwvcG9seWdvbj4gPHBvbHlnb24gZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBwb2ludHM9XCI1NSwxIDU1LDU0IDU5LDYyIDYzLDU0IDYzLDEgXCI+PC9wb2x5Z29uPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiNTVcIiB5MT1cIjExXCIgeDI9XCI2M1wiIHkyPVwiMTFcIj48L2xpbmU+IDwvZz48L3N2Zz4pO1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0TGVuZ3RoKTtcblxuICAgICAgICBwcm9qZWN0Q29udGVudC5hcHBlbmRDaGlsZChwcm9qZWN0Q29udGFpbmVyKTtcbiAgICB9XG59O1xuXG5jb25zdCBwcm9qZWN0RXZlbnRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGdldFN0b3JhZ2UoJ3Byb2plY3RMaXN0Jyk7XG4gICAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdENvbnRhaW5lcicpO1xuICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SWQgPSBwcm9qZWN0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3QpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdElkKTtcbiAgICAgICAgIFxuICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gc2F2ZSBjdXJyZW50IHByb2plY3QgaWQgdG8gbG9jYWwgc3RvcmFnZSBcbiAgICAgICAgICAgIHN0b3JhZ2UoJ2N1cnJlbnRQcm9qZWN0SWQnLCBjdXJyZW50UHJvamVjdElkKS5vdmVycmlkZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYHNhdmUgJHtjdXJyZW50UHJvamVjdElkfSB0byBsb2NhbCBzdG9yYWdlYCkgXG4gICAgICAgICAgICBSZW5kZXJUYXNrcygpO1xuICAgICAgICAgICAgUmVuZGVyQWRkVGFza0J0bigpO1xuICAgICAgICAgICAgdGFza0V2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcHJvY2Vzc1Byb2plY3RJbnB1dCwgcmVuZGVyUHJvamVjdHMsIHByb2plY3RFdmVudExpc3RlbmVyIH07IiwiaW1wb3J0IHsgcHJvY2Vzc1Byb2plY3RJbnB1dCB9IGZyb20gXCIuL3Byb2plY3RcIjtcblxuY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG5cbmNvbnN0IFByb2plY3RGb3JtID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IGJ0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGNyZWF0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgncHJvamVjdEZvcm0nKTtcbiAgICBidG5Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYnRuQ29udGFpbmVyJyk7XG5cbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RJbnB1dCcpO1xuICAgIGlucHV0LnBsYWNlaG9sZGVyID0gJ1Byb2plY3QgTmFtZSc7XG5cbiAgICBjcmVhdGVCdG4udGV4dENvbnRlbnQgPSAnQ3JlYXRlJztcbiAgICBjcmVhdGVCdG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGNyZWF0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdjcmVhdGVCdG4nKTtcblxuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9ICdDYW5jZWwnO1xuICAgIGNhbmNlbEJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgY2FuY2VsQnRuLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbEJ0bicpO1xuXG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ0bik7XG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ0bik7XG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKGJ0bkNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4geyBwcm9qZWN0Rm9ybSB9O1xufTtcblxuY29uc3QgcmVuZGVyUHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG5cbiAgICAvLyBBcHBlbmQgZm9ybSB0byBwcm9qZWN0Q29udGVudFxuICAgIHNpZGViYXIuYXBwZW5kQ2hpbGQoUHJvamVjdEZvcm0oKS5wcm9qZWN0Rm9ybSk7XG59O1xuXG5mdW5jdGlvbiBzaG93Rm9ybSgpIHtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcblxuICAgIC8vIEhpZGUgYWRkUHJvamVjdEJ0blxuICAgIGFkZFByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAvLyBzaG93IGZvcm1cbiAgICBwcm9qZWN0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn1cblxuZnVuY3Rpb24gaGlkZUZvcm0oKSB7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdCcpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG5cbiAgICAvLyBIaWRlIGFkZFByb2plY3RCdG5cbiAgICBhZGRQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIC8vIHNob3cgZm9ybVxuICAgIHByb2plY3RGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5jb25zdCBldmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2hvd0Zvcm0pO1xuXG4gICAgY29uc3QgY3JlYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZUJ0bicpO1xuICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByb2Nlc3NQcm9qZWN0SW5wdXQpO1xuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbmNlbEJ0bicpO1xuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVGb3JtKTtcbn07XG5cblxuZXhwb3J0ICB7IHJlbmRlclByb2plY3RGb3JtLCBoaWRlRm9ybSwgZXZlbnRMaXN0ZW5lcnMgfTtcbiIsImltcG9ydCAgeyByZW5kZXJQcm9qZWN0Rm9ybSwgZXZlbnRMaXN0ZW5lcnMgfSAgZnJvbSAnLi9tb2R1bGVzL3Byb2plY3RGb3JtJztcbmltcG9ydCB7IHJlbmRlclByb2plY3RzLCBwcm9qZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vbW9kdWxlcy9wcm9qZWN0JztcblxucmVuZGVyUHJvamVjdHMoKTtcbnJlbmRlclByb2plY3RGb3JtKCk7XG5cbmV2ZW50TGlzdGVuZXJzKCk7XG5wcm9qZWN0RXZlbnRMaXN0ZW5lcigpO1xuXG4vLyBkZWZhdWx0OiBoaWRlIHByb2plY3RGb3JtXG5jb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xucHJvamVjdEZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsiXSwibmFtZXMiOlsic3RvcmFnZSIsImtleSIsInZhbHVlIiwic2F2ZSIsImdldEFycmF5IiwiZ2V0U3RvcmFnZSIsInB1c2giLCJzZXJpYWxpemVkQXJyYXkiLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIm92ZXJyaWRlIiwicGFyc2UiLCJnZXRJdGVtIiwiY29udGVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlJlbmRlclRhc2tzIiwicHJvamVjdExpc3QiLCJjdXJyZW50UHJvamVjdElkIiwiY3VycmVudFByb2plY3QiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsInRhc2tzIiwibGVuZ3RoIiwidGFza0Zvcm1FdmVudExpc3RlbmVyIiwiY3JlYXRlVGFza0J0biIsImNhbmNlbFRhc2tCdG4iLCJhZGRUYXNrQ29udGFpbmVyIiwib3ZlcmxheSIsInRhc2tGb3JtQ29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInByb2Nlc3NQcm9qZWN0SW5wdXQiLCJwcm9qZWN0SW5wdXQiLCJuZXdQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJwcm9qZWN0IiwiaGlkZUZvcm0iLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJyZW5kZXJQcm9qZWN0cyIsInByb2plY3RDb250ZW50IiwiaW5uZXJIVE1MIiwiaSIsInByb2plY3RDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwicHJvamVjdExlbmd0aCIsInN2Z0NvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaG93Rm9ybSIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0Rm9ybSIsImlucHV0IiwiYnRuQ29udGFpbmVyIiwiY3JlYXRlQnRuIiwiY2FuY2VsQnRuIiwicGxhY2Vob2xkZXIiLCJQcm9qZWN0Rm9ybSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZ2V0QXR0cmlidXRlIiwiYWRkVGFza0NvbnRhaW5lckV4aXN0Iiwic3ZnIiwiYWRkRGl2IiwiUmVuZGVyQWRkVGFza0J0biIsIlJlbmRlclRhc2tGb3JtIiwidGFza0V2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9