(()=>{"use strict";const e=(e,o)=>({save:()=>{const n=t(e);n.push(o);const l=JSON.stringify(n);localStorage.setItem(e,l)},override:()=>{localStorage.setItem(e,o)}}),t=e=>JSON.parse(localStorage.getItem(e))||JSON.parse(JSON.stringify([])),o=document.querySelector(".content"),n=(document.querySelector(".add-task"),()=>{const e=t("projectList"),o=("currentProjectId",JSON.parse(localStorage.getItem("currentProjectId")));let n=e[o];console.log(e),console.log(o),console.log(typeof o),console.log(`first project: ${e[0].name}`),console.log(`currentProject: ${n} `),console.log(`current project name: ${n.name}`),n.tasks.length&&console.log("at least 1 task(s)")}),l=()=>{const e=document.querySelector(".createTaskBtn"),t=document.querySelector(".cancelTaskBtn"),o=document.querySelector(".add-task"),n=document.querySelector(".overlay"),l=document.querySelector(".taskFormContainer");e.addEventListener("click",(e=>{e.preventDefault(),console.log("create task btn clicked"),r()&&((()=>{const e=document.querySelector("#title"),t=document.querySelector("#details"),o=document.querySelector("#due"),n=document.querySelector('input[name="priority"]:checked'),l=((e,t,o,n="Medium",l=!1)=>{let r=e,i=t,d=o,c=n,s=l;return{get title(){return r},set title(e){r=e},get details(){return i},set details(e){i=e},get dueDay(){return d},set dueDay(e){d=e},get priority(){return c},set priority(e){c=e},get completed(){return s},set completed(e){s=e}}})(e.value,t.value,o.value,n.value);console.log(l)})(),o.style.display="block",n.remove(),l.remove())})),t.addEventListener("click",(()=>{console.log("cancel task btn clicked"),o.style.display="block",n.remove(),l.remove()})),n.addEventListener("click",(()=>{o.style.display="block",n.remove(),l.remove()}))},r=()=>{const e=document.querySelector("#title"),t=document.querySelector("#due"),o=document.querySelector(".titleDiv"),n=document.querySelector(".dueDiv");let l=document.createElement("div"),r=document.createElement("div");l.classList.add("titleError"),r.classList.add("dueError");const i=document.querySelector(".titleError"),d=document.querySelector(".dueError");return i&&i.remove(),d&&d.remove(),o.appendChild(l),n.appendChild(r),e.value.length<2?(l.innerHTML="Please enter title for at least two letters.",!1):(l.innerHTML="",""===t.value?(r.innerHTML="Please enter due date.",!1):(r.innerHTML="",console.log("Form is valid"),!0))},i=()=>{const e=document.querySelector(".projectInput");let t=(e=>{const t=[];return{name:e,tasks:t,length:t.length}})(e.value);console.log(t),console.log(typeof t),a(),d(t),c(),e.value=""},d=t=>{e("projectList",t).save(),console.log(`save ${t.name} to local storage`)},c=()=>{let e=t("projectList");const o=document.querySelector(".projectContent");o.innerHTML="";for(let t=0;t<e.length;t++){const n=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");n.classList.add("projectContainer"),n.setAttribute("data-project-id",t),l.textContent=e[t].name,r.textContent=e[t].length,r.classList.add("projectLength"),i.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="24" x2="38" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="34" x2="38" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="44" x2="38" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="54" x2="38" y2="54"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="24" x2="8" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="34" x2="8" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="44" x2="8" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="54" x2="8" y2="54"></line> <polyline fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="14,8 1,8 1,63 45,63 45,8 32,8 "></polyline> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="27,5 27,1 19,1 19,5 15,5 13,13 33,13 31,5 "></polygon> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="55,1 55,54 59,62 63,54 63,1 "></polygon> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="55" y1="11" x2="63" y2="11"></line> </g></svg>',n.appendChild(i),n.appendChild(l),n.appendChild(r),o.appendChild(n)}};function s(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="none",t.style.display="block"}function a(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="block",t.style.display="none"}document.querySelector(".sidebar"),document.querySelector(".add-project"),c(),document.querySelector(".sidebar").appendChild((()=>{const e=document.createElement("div"),t=document.createElement("input"),o=document.createElement("div"),n=document.createElement("button"),l=document.createElement("button");return e.classList.add("projectForm"),o.classList.add("btnContainer"),t.setAttribute("type","text"),t.classList.add("projectInput"),t.placeholder="Project Name",n.textContent="Create",n.setAttribute("type","button"),n.classList.add("createBtn"),l.textContent="Cancel",l.setAttribute("type","button"),l.classList.add("cancelBtn"),o.appendChild(n),o.appendChild(l),e.appendChild(t),e.appendChild(o),{projectForm:e}})().projectForm),document.querySelector(".add-project").addEventListener("click",s),document.querySelector(".createBtn").addEventListener("click",i),document.querySelector(".cancelBtn").addEventListener("click",a),t("projectList"),document.querySelectorAll(".projectContainer").forEach((t=>{const r=t.getAttribute("data-project-id");console.log(t),console.log(r),t.addEventListener("click",(()=>{e("currentProjectId",r).override(),console.log(`save ${r} to local storage`),n(),(()=>{const e=document.querySelector(".add-task"),t=document.createElement("div"),n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="24px" height="24px" fill-rule="evenodd"><path fill-rule="evenodd" d="M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"/></svg>\n    ';const l=document.createElement("div");null!==e&&e.remove(),t.classList.add("add-task"),l.classList.add("add-div"),l.innerHTML="ADD TASK",t.appendChild(n),t.appendChild(l),o.appendChild(t)})(),(()=>{const e=document.querySelector(".add-task");e.addEventListener("click",(()=>{e.style.display="none",(()=>{const e=document.createElement("div"),t=document.createElement("div");e.classList.add("overlay"),t.classList.add("taskFormContainer"),t.innerHTML='<form action="" method="" id="taskForm">\n        <div class="form-control">\n            <div class="titleDiv">\n                <label for="title">TITLE: *</label>\n                <input type="text" name="title" id="title" required placeholder="LeetCode"\n                    minlength="2" maxlength="20" autofocus>\n            </div>\n            <div>\n                <label for="details">DETAILS: </label>\n                <textarea name="details" id="details" rows="4" cols="50">\n                </textarea>\n            </div>\n            <div class="dueDiv">\n                <label for="due">DUE DATE: *</label>\n                <input type="date" name="due" id="due" required \n                    placeholder="05/22/2023">\n            </div>\n            <div>\n                <label for="priority">PRIORITY: *</label>\n                <div class="priority">\n                    <input type="radio" id="high" name="priority" value="HIGH">\n                    <label for="high">HIGH</label>\n                    <input type="radio" id="medium" name="priority" value="MEDIUM" checked>\n                    <label for="medium">MEDIUM</label>\n                    <input type="radio" id="low" name="priority" value="LOW">\n                    <label for="low">LOW</label>\n                </div>\n            </div>\n            <div class="taskBtnContainer">\n                <button type="button" class="createTaskBtn">CREATE TASK</button>\n                <button type="button" class="cancelTaskBtn">CANCEL</button>\n                \x3c!--Use input type="submit" to enable form built-in validations--\x3e\n                \x3c!--input type="submit" class="createTaskBtn" value="CREATE TASK"--\x3e\n            </div>\n        </div>\n    </form>',o.appendChild(e),o.appendChild(t)})(),l()}))})()}))})),document.querySelector(".projectForm").style.display="none"})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFPbkMsVUFBVUMsSUFBSSxXQUNyQmtDLEVBQU85QixVQUFZLFdBQ25CdEMsRUFBaUJxQyxZQUFZOEIsR0FDN0JuRSxFQUFpQnFDLFlBQVkrQixHQUU3Qm5GLEVBQVFvRCxZQUFZckMsRUFBaUIsRUVnQzdCcUUsR0R2Q2MsTUFDdEIsTUFBTXJFLEVBQW1CZCxTQUFTQyxjQUFjLGFBRWhEYSxFQUFpQkcsaUJBQWlCLFNBQVMsS0FDdkNILEVBQWlCeUIsTUFBTUMsUUFBVSxPRE1sQixNQUNuQixNQUFNekIsRUFBVWYsU0FBUzZDLGNBQWMsT0FDakM3QixFQUFvQmhCLFNBQVM2QyxjQUFjLE9BRWpEOUIsRUFBUWdDLFVBQVVDLElBQUksV0FDdEJoQyxFQUFrQitCLFVBQVVDLElBQUkscUJBRWhDaEMsRUFBa0JvQyxVQUNsQix3dURBcUNBckQsRUFBUW9ELFlBQVlwQyxHQUNwQmhCLEVBQVFvRCxZQUFZbkMsRUFBa0IsRUNuRGxDb0UsR0FDQXpFLEdBQXVCLEdBQ3pCLEVDaUNNMEUsRUFBbUIsR0FDckIsSUV6RVVyRixTQUFTQyxjQUFjLGdCQUMvQnNDLE1BQU1DLFFBQVUsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy90YXNrRm9ybS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvdGFzay5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdG9yYWdlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvLyBTYXZlIG5ldyBvYmplY3QgdG8gYXJyYXlcbiAgICBjb25zdCBzYXZlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBnZXRBcnJheSA9IGdldFN0b3JhZ2Uoa2V5KTtcbiAgICAgICAgLy8gSW1wb3J0YW50OiB0byBzdG9yZSB0aGUgbW9kaWZpZWQgYXJyYXkgdG8gbG9jYWwgc3RvcmFnZSxcbiAgICAgICAgLy8gcHVzaCBuZXcgdmFsdWUgdG8gdGhlIFwib2xkXCIgYXJyYXlcbiAgICAgICAgLy8gYW5kIHN0cmluZ2lmeSBcIm9sZFwiIGFycmF5IHdpdGhvdXQgY3JlYXRpbmcgbmV3XG4gICAgICAgIC8vIGFycmF5IGJlY2F1c2UgcHVzaCgpIHdpbGwgcmV0dXJuIG51bWJlciBvZiBlbGVtZW50XG4gICAgICAgIC8vIGluc2lkZSBhcnJheSBcbiAgICAgICAgLy8gZS5nOiBjb25zdCBhcnJheSA9IFtdLnB1c2gob2JqZWN0KTsgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFycmF5KSByZXR1cm5zIDFcbiAgICAgICAgZ2V0QXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRBcnJheSA9IEpTT04uc3RyaW5naWZ5KGdldEFycmF5KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBzZXJpYWxpemVkQXJyYXkpO1xuICAgIH07XG4gICAgLy8gb3ZlcnJpZGUgb2xkIHZhbHVlIHRvIGtleVxuICAgIGNvbnN0IG92ZXJyaWRlID0gKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiB7IHNhdmUsIG92ZXJyaWRlIH07XG59O1xuLy8gZ2V0IGFycmF5IGFzIHZhbHVlXG5jb25zdCBnZXRTdG9yYWdlID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSBcbiAgICAgICAgICAgIHx8IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoW10pKTtcbn07XG4vLyBnZXQgc2luZ2xlIG51bWJlciBhcyB2YWx1ZVxuY29uc3QgZ2V0T25lVmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xufTtcblxuZXhwb3J0IHsgc3RvcmFnZSwgZ2V0U3RvcmFnZSwgZ2V0T25lVmFsdWUgfTsiLCJpbXBvcnQgeyBnZXRTdG9yYWdlLCBnZXRPbmVWYWx1ZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcblxuY29uc3QgUmVuZGVyVGFza3MgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBnZXRTdG9yYWdlKCdwcm9qZWN0TGlzdCcpO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SWQgPSBnZXRPbmVWYWx1ZSgnY3VycmVudFByb2plY3RJZCcpO1xuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RMaXN0W2N1cnJlbnRQcm9qZWN0SWRdO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdElkKTtcbiAgICBjb25zb2xlLmxvZyh0eXBlb2YgY3VycmVudFByb2plY3RJZCk7XG4gICAgXG4gICAgLy8gcHJvYmxlbTogaWYgY3VycmVudFByb2plY3RJZCBpcyAwIChmaXJzdCBwcm9qZWN0KVxuICAgIC8vICBpbiBsb2NhbFN0b3JhZ2UsIGl0IGJlY2FtZSBbXSBhbmQgdHlwZW9mIG9iamVjdCAgXG4gICAgLy8gY2F1c2U6IFswXT9cbiAgICAvLyBpZih0eXBlb2YgY3VycmVudFByb2plY3RJZCAhPT0gJ251bWJlcicpIHtcbiAgICAvLyAgICAgY3VycmVudFByb2plY3QgPSBwcm9qZWN0TGlzdFswXTtcbiAgICAvLyAgICAgY29uc29sZS5sb2coY3VycmVudFByb2plY3QpO1xuICAgIC8vIH1cbiAgICBjb25zb2xlLmxvZyhgZmlyc3QgcHJvamVjdDogJHtwcm9qZWN0TGlzdFswXS5uYW1lfWApO1xuICAgIGNvbnNvbGUubG9nKGBjdXJyZW50UHJvamVjdDogJHtjdXJyZW50UHJvamVjdH0gYClcbiAgICBjb25zb2xlLmxvZyhgY3VycmVudCBwcm9qZWN0IG5hbWU6ICR7Y3VycmVudFByb2plY3QubmFtZX1gKVxuXG4gICAgaWYoY3VycmVudFByb2plY3QudGFza3MubGVuZ3RoKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2F0IGxlYXN0IDEgdGFzayhzKScpXG4gICAgfVxufTtcblxuY29uc3QgUmVuZGVyQWRkVGFza0J0biA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyRXhpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcbiAgICBjb25zdCBhZGRUYXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3ZnLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNIDExIDIgTCAxMSAxMSBMIDIgMTEgTCAyIDEzIEwgMTEgMTMgTCAxMSAyMiBMIDEzIDIyIEwgMTMgMTMgTCAyMiAxMyBMIDIyIDExIEwgMTMgMTEgTCAxMyAyIFpcIi8+PC9zdmc+XG4gICAgYDtcbiAgICBjb25zdCBhZGREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIC8vIENsZWFyIHByZXZpb3VzIGFkZCB0YXNrIGJ0blxuICAgIGlmKGFkZFRhc2tDb250YWluZXJFeGlzdCAhPT0gbnVsbCl7XG4gICAgICAgIGFkZFRhc2tDb250YWluZXJFeGlzdC5yZW1vdmUoKTtcbiAgICB9XG4gICAgLy8gQWRkIG5ldyBhZGQgdGFzayBidG5cbiAgICBhZGRUYXNrQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FkZC10YXNrJyk7XG4gICAgYWRkRGl2LmNsYXNzTGlzdC5hZGQoJ2FkZC1kaXYnKVxuICAgIGFkZERpdi5pbm5lckhUTUwgPSAnQUREIFRBU0snO1xuICAgIGFkZFRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICBhZGRUYXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZERpdik7XG5cbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGFkZFRhc2tDb250YWluZXIpO1xufTtcblxuY29uc3QgUmVuZGVyVGFza0Zvcm0gPSAoKSA9PiB7XG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRhc2tGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ292ZXJsYXknKTsgXG4gICAgdGFza0Zvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgndGFza0Zvcm1Db250YWluZXInKTtcblxuICAgIHRhc2tGb3JtQ29udGFpbmVyLmlubmVySFRNTCA9IFxuICAgIGA8Zm9ybSBhY3Rpb249XCJcIiBtZXRob2Q9XCJcIiBpZD1cInRhc2tGb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZURpdlwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ0aXRsZVwiPlRJVExFOiAqPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidGl0bGVcIiBpZD1cInRpdGxlXCIgcmVxdWlyZWQgcGxhY2Vob2xkZXI9XCJMZWV0Q29kZVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbmxlbmd0aD1cIjJcIiBtYXhsZW5ndGg9XCIyMFwiIGF1dG9mb2N1cz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGV0YWlsc1wiPkRFVEFJTFM6IDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIG5hbWU9XCJkZXRhaWxzXCIgaWQ9XCJkZXRhaWxzXCIgcm93cz1cIjRcIiBjb2xzPVwiNTBcIj5cbiAgICAgICAgICAgICAgICA8L3RleHRhcmVhPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHVlRGl2XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImR1ZVwiPkRVRSBEQVRFOiAqPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBuYW1lPVwiZHVlXCIgaWQ9XCJkdWVcIiByZXF1aXJlZCBcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwNS8yMi8yMDIzXCI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByaW9yaXR5XCI+UFJJT1JJVFk6ICo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmlvcml0eVwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCJoaWdoXCIgbmFtZT1cInByaW9yaXR5XCIgdmFsdWU9XCJISUdIXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJoaWdoXCI+SElHSDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIm1lZGl1bVwiIG5hbWU9XCJwcmlvcml0eVwiIHZhbHVlPVwiTUVESVVNXCIgY2hlY2tlZD5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIm1lZGl1bVwiPk1FRElVTTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cImxvd1wiIG5hbWU9XCJwcmlvcml0eVwiIHZhbHVlPVwiTE9XXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJsb3dcIj5MT1c8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFza0J0bkNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY3JlYXRlVGFza0J0blwiPkNSRUFURSBUQVNLPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjYW5jZWxUYXNrQnRuXCI+Q0FOQ0VMPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPCEtLVVzZSBpbnB1dCB0eXBlPVwic3VibWl0XCIgdG8gZW5hYmxlIGZvcm0gYnVpbHQtaW4gdmFsaWRhdGlvbnMtLT5cbiAgICAgICAgICAgICAgICA8IS0taW5wdXQgdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiY3JlYXRlVGFza0J0blwiIHZhbHVlPVwiQ1JFQVRFIFRBU0tcIi0tPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5gO1xuICAgIFxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZCh0YXNrRm9ybUNvbnRhaW5lcik7XG59O1xuICAgICAgICAgICAgICAgICAgICBcblxuXG5cbmV4cG9ydCB7IFJlbmRlclRhc2tzLCBSZW5kZXJBZGRUYXNrQnRuLCBSZW5kZXJUYXNrRm9ybSB9O1xuIiwiaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnXG5pbXBvcnQgeyBSZW5kZXJBZGRUYXNrQnRuLCBSZW5kZXJUYXNrRm9ybSB9IGZyb20gXCIuL3Rhc2tGb3JtXCI7XG5cbmNvbnN0IHRhc2sgPSAodGl0bGUsIGRldGFpbHMsIGR1ZURheSwgcHJpb3JpdHkgPSAnTWVkaXVtJywgY29tcGxldGVkID0gZmFsc2UpID0+IHtcbiAgICBsZXQgX3RpdGxlID0gdGl0bGU7XG4gICAgbGV0IF9kZXRhaWxzID0gZGV0YWlscztcbiAgICBsZXQgX2R1ZURheSA9IGR1ZURheTtcbiAgICBsZXQgX3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgbGV0IF9jb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHRpdGxlKCkgeyByZXR1cm4gX3RpdGxlOyB9LFxuICAgICAgICBzZXQgdGl0bGUobmV3VGl0bGUpIHsgX3RpdGxlID0gbmV3VGl0bGU7IH0sXG4gICAgICAgIGdldCBkZXRhaWxzKCkgeyByZXR1cm4gX2RldGFpbHM7IH0sXG4gICAgICAgIHNldCBkZXRhaWxzKG5ld0RldGFpbHMpIHsgX2RldGFpbHMgPSBuZXdEZXRhaWxzOyB9LFxuICAgICAgICBnZXQgZHVlRGF5KCkgeyByZXR1cm4gX2R1ZURheTsgfSxcbiAgICAgICAgc2V0IGR1ZURheShuZXdEdWVEYXkpIHsgX2R1ZURheSA9IG5ld0R1ZURheTsgfSxcbiAgICAgICAgZ2V0IHByaW9yaXR5KCkgeyByZXR1cm4gX3ByaW9yaXR5OyB9LFxuICAgICAgICBzZXQgcHJpb3JpdHkobmV3UHJpb3JpdHkpIHsgX3ByaW9yaXR5ID0gbmV3UHJpb3JpdHk7IH0sXG4gICAgICAgIGdldCBjb21wbGV0ZWQoKSB7IHJldHVybiBfY29tcGxldGVkOyB9LFxuICAgICAgICBzZXQgY29tcGxldGVkKG5ld0NvbXBsZXRlZCkgeyBfY29tcGxldGVkID0gbmV3Q29tcGxldGVkOyB9LFxuICAgICAgICBcbiAgICB9XG59OyBcblxuY29uc3QgZm9ybWF0dGVkRGF0ZSA9IChkdWVEYXkpID0+IHtcbiAgICByZXR1cm4gZm9ybWF0KG5ldyBEYXRlKGR1ZURheSksICdkZC9NTS95eXl5Jyk7XG59XG5cblxuY29uc3QgcHJvY2Vzc1Rhc2tJbnB1dCA9ICgpID0+IHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0aXRsZScpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGV0YWlscycpO1xuICAgIGNvbnN0IGR1ZURheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkdWUnKTtcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJwcmlvcml0eVwiXTpjaGVja2VkJyk7XG4gICAgY29uc3QgbmV3VGFzayA9IHRhc2sodGl0bGUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBkdWVEYXkudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHkudmFsdWUpO1xuICAgIGNvbnNvbGUubG9nKG5ld1Rhc2spO1xufTtcblxuY29uc3QgdGFza0V2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdGFzaycpO1xuXG4gICAgYWRkVGFza0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgXG4gICAgICAgIGFkZFRhc2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgUmVuZGVyVGFza0Zvcm0oKTtcbiAgICAgICAgdGFza0Zvcm1FdmVudExpc3RlbmVyKCk7XG4gICAgfSk7XG59O1xuXG5jb25zdCB0YXNrRm9ybUV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgY3JlYXRlVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jcmVhdGVUYXNrQnRuJyk7XG4gICAgY29uc3QgY2FuY2VsVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW5jZWxUYXNrQnRuJyk7XG4gICAgY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdGFzaycpO1xuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpO1xuXG4gICAgY29uc3QgdGFza0Zvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza0Zvcm1Db250YWluZXInKTtcblxuICAgIGNyZWF0ZVRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnY3JlYXRlIHRhc2sgYnRuIGNsaWNrZWQnKVxuICAgICAgICAvLyBJZiBmb3JtIGluIGludmFsaWQocmV0dXJuIGZhbHNlKSwgcmV0dXJuXG4gICAgICAgIGlmKCFmb3JtVmFsaWRhdGlvbigpKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzVGFza0lucHV0KCk7XG5cblxuICAgICAgICBhZGRUYXNrQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB0YXNrRm9ybUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGNhbmNlbFRhc2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjYW5jZWwgdGFzayBidG4gY2xpY2tlZCcpXG4gICAgICAgIGFkZFRhc2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIG92ZXJsYXkucmVtb3ZlKCk7XG4gICAgICAgIHRhc2tGb3JtQ29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH0pXG4gICAgLy8gaWYgb3ZlcmxheSBpcyBjbGlja2VkLCByZW1vdmUgb3ZlcmxheSBhbmQgZm9ybSBcbiAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBhZGRUYXNrQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBvdmVybGF5LnJlbW92ZSgpO1xuICAgICAgICB0YXNrRm9ybUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGZvcm1WYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RpdGxlJyk7XG4gICAgY29uc3QgZHVlRGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2R1ZScpO1xuICAgIGNvbnN0IHRpdGxlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlRGl2Jyk7XG4gICAgY29uc3QgZHVlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1ZURpdicpO1xuICAgIGxldCB0aXRsZUVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGV0IGR1ZUVycm9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgdGl0bGVFcnJvci5jbGFzc0xpc3QuYWRkKCd0aXRsZUVycm9yJyk7XG4gICAgZHVlRXJyb3IuY2xhc3NMaXN0LmFkZCgnZHVlRXJyb3InKTtcblxuICAgIGNvbnN0IGV4aXN0ZWRUaXRsZUVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlRXJyb3InKTtcbiAgICBjb25zdCBleGlzdGVkRHVlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHVlRXJyb3InKTtcbiAgICAvLyBSZW1vdmUgcHJldmlvdXMgZXJyb3IgbXNnXG4gICAgaWYoZXhpc3RlZFRpdGxlRXJyb3IpIGV4aXN0ZWRUaXRsZUVycm9yLnJlbW92ZSgpO1xuICAgIGlmKGV4aXN0ZWREdWVFcnJvcikgZXhpc3RlZER1ZUVycm9yLnJlbW92ZSgpO1xuICAgIC8vIEFwcGVuZCBuZXcgZXJyb3IgZGl2XG4gICAgdGl0bGVEaXYuYXBwZW5kQ2hpbGQodGl0bGVFcnJvcik7XG4gICAgZHVlRGl2LmFwcGVuZENoaWxkKGR1ZUVycm9yKTtcbiAgICAvLyBUaXRsZSBpcyBpbnZhbGlkOiBsZXNzIHRoYW4gdHdvIGxldHRlcnNcbiAgICBpZih0aXRsZS52YWx1ZS5sZW5ndGggPCAyKSB7XG4gICAgICAgIHRpdGxlRXJyb3IuaW5uZXJIVE1MID0gJ1BsZWFzZSBlbnRlciB0aXRsZSBmb3IgYXQgbGVhc3QgdHdvIGxldHRlcnMuJztcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1lbHNle1xuICAgICAgICB0aXRsZUVycm9yLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICAvLyBEdWUgZGF0ZSBpcyBpbnZhbGlkOiBlbXB0eVxuICAgIGlmKGR1ZURheS52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZHVlRXJyb3IuaW5uZXJIVE1MID0gJ1BsZWFzZSBlbnRlciBkdWUgZGF0ZS4nO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWVsc2V7XG4gICAgICAgIGR1ZUVycm9yLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZygnRm9ybSBpcyB2YWxpZCcpXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgeyB0YXNrRXZlbnRMaXN0ZW5lciB9O1xuXG4iLCJpbXBvcnQgeyBzdG9yYWdlLCBnZXRTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCAgeyBoaWRlRm9ybSB9ICBmcm9tICcuL3Byb2plY3RGb3JtJztcbmltcG9ydCB7IFJlbmRlclRhc2tzLCBSZW5kZXJBZGRUYXNrQnRuIH0gZnJvbSAnLi90YXNrRm9ybSc7XG5pbXBvcnQgeyB0YXNrRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vdGFzayc7XG5cblxuLy8gbGV0IHByb2plY3RMaXN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RMaXN0Jyk7XG4vLyBwcm9qZWN0TGlzdCA9IHByb2plY3RMaXN0PyBKU09OLnBhcnNlKHByb2plY3RMaXN0KTogW107XG5cbmNvbnN0IHByb2plY3QgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICBjb25zdCB0YXNrcyA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IHRhc2tzLmxlbmd0aDtcbiAgICBjb25zdCBuYW1lID0gcHJvamVjdE5hbWU7XG5cbiAgICByZXR1cm4geyBuYW1lLCB0YXNrcywgbGVuZ3RoIH1cbn07XG5cbmNvbnN0IHByb2Nlc3NQcm9qZWN0SW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RJbnB1dCcpO1xuICAgIGxldCBuZXdQcm9qZWN0ID0gcHJvamVjdChwcm9qZWN0SW5wdXQudmFsdWUpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKG5ld1Byb2plY3QpXG4gICAgY29uc29sZS5sb2codHlwZW9mIG5ld1Byb2plY3QpO1xuICAgIGhpZGVGb3JtKCk7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKG5ld1Byb2plY3QpO1xuICAgIHJlbmRlclByb2plY3RzKCk7XG5cbiAgICAvLyBjbGVhciBwcm9qZWN0IGlucHV0IGFmdGVyIHNhdmVcbiAgICBwcm9qZWN0SW5wdXQudmFsdWUgPSAnJztcbn07XG5cbmNvbnN0IHNhdmVUb0xvY2FsU3RvcmFnZSA9IChwcm9qZWN0KSA9PiB7XG4gICAgc3RvcmFnZSgncHJvamVjdExpc3QnLCBwcm9qZWN0KS5zYXZlKCk7XG4gICAgY29uc29sZS5sb2coYHNhdmUgJHtwcm9qZWN0Lm5hbWV9IHRvIGxvY2FsIHN0b3JhZ2VgKSAgXG59O1xuXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcbiAgICBsZXQgcHJvamVjdExpc3QgPSBnZXRTdG9yYWdlKCdwcm9qZWN0TGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdENvbnRlbnQnKTtcbiAgICAvLyBjbGVhciBwcm9qZWN0IGNvbnRlbnRcbiAgICBwcm9qZWN0Q29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAvLyByZW5kZXIgbmV3IHByb2plY3QgY29udGVudFxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0TGlzdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdExlbmd0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBzdmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RDb250YWluZXInKTtcbiAgICAgICAgLy8gc2V0IHByb2plY3QgaWQgdG8gc3BlY2lmaWMgcHJvamVjdCBjb250YWluZXJcbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGkpO1xuXG4gICAgICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gcHJvamVjdExpc3RbaV0ubmFtZTtcbiAgICAgICAgcHJvamVjdExlbmd0aC50ZXh0Q29udGVudCA9IHByb2plY3RMaXN0W2ldLmxlbmd0aDtcbiAgICAgICAgcHJvamVjdExlbmd0aC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TGVuZ3RoJyk7XG4gICAgICAgIC8vIGFwcGVuZCBzdmcgXG5cbiAgICAgICAgc3ZnQ29udGFpbmVyLmlubmVySFRNTCA9IGA8c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkxheWVyXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIGZpbGw9XCIjZmZmZmZmXCI+PGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMjRcIiB4Mj1cIjM4XCIgeTI9XCIyNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCIzNFwiIHgyPVwiMzhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjQ0XCIgeDI9XCIzOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiNTRcIiB4Mj1cIjM4XCIgeTI9XCI1NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCIyNFwiIHgyPVwiOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMzRcIiB4Mj1cIjhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjQ0XCIgeDI9XCI4XCIgeTI9XCI0NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI1NFwiIHgyPVwiOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxwb2x5bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjE0LDggMSw4IDEsNjMgNDUsNjMgNDUsOCAzMiw4IFwiPjwvcG9seWxpbmU+IDxwb2x5Z29uIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgcG9pbnRzPVwiMjcsNSAyNywxIDE5LDEgMTksNSAxNSw1IDEzLDEzIDMzLDEzIDMxLDUgXCI+PC9wb2x5Z29uPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjU1LDEgNTUsNTQgNTksNjIgNjMsNTQgNjMsMSBcIj48L3BvbHlnb24+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCI1NVwiIHkxPVwiMTFcIiB4Mj1cIjYzXCIgeTI9XCIxMVwiPjwvbGluZT4gPC9nPjwvc3ZnPmA7XG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnQ29udGFpbmVyKTtcbiAgICAgICAgLy8gcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCg8c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkxheWVyXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIGZpbGw9XCIjZmZmZmZmXCI+PGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMjRcIiB4Mj1cIjM4XCIgeTI9XCIyNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCIzNFwiIHgyPVwiMzhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjQ0XCIgeDI9XCIzOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiNTRcIiB4Mj1cIjM4XCIgeTI9XCI1NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCIyNFwiIHgyPVwiOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMzRcIiB4Mj1cIjhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjQ0XCIgeDI9XCI4XCIgeTI9XCI0NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI1NFwiIHgyPVwiOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxwb2x5bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjE0LDggMSw4IDEsNjMgNDUsNjMgNDUsOCAzMiw4IFwiPjwvcG9seWxpbmU+IDxwb2x5Z29uIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgcG9pbnRzPVwiMjcsNSAyNywxIDE5LDEgMTksNSAxNSw1IDEzLDEzIDMzLDEzIDMxLDUgXCI+PC9wb2x5Z29uPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjU1LDEgNTUsNTQgNTksNjIgNjMsNTQgNjMsMSBcIj48L3BvbHlnb24+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCI1NVwiIHkxPVwiMTFcIiB4Mj1cIjYzXCIgeTI9XCIxMVwiPjwvbGluZT4gPC9nPjwvc3ZnPik7XG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RMZW5ndGgpO1xuXG4gICAgICAgIHByb2plY3RDb250ZW50LmFwcGVuZENoaWxkKHByb2plY3RDb250YWluZXIpO1xuICAgIH1cbn07XG5cbmNvbnN0IHByb2plY3RFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZ2V0U3RvcmFnZSgncHJvamVjdExpc3QnKTtcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0Q29udGFpbmVyJyk7XG4gICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFByb2plY3RJZCA9IHByb2plY3QuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9qZWN0SWQpO1xuICAgICAgICAgXG4gICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBzYXZlIGN1cnJlbnQgcHJvamVjdCBpZCB0byBsb2NhbCBzdG9yYWdlIFxuICAgICAgICAgICAgc3RvcmFnZSgnY3VycmVudFByb2plY3RJZCcsIGN1cnJlbnRQcm9qZWN0SWQpLm92ZXJyaWRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgc2F2ZSAke2N1cnJlbnRQcm9qZWN0SWR9IHRvIGxvY2FsIHN0b3JhZ2VgKSBcbiAgICAgICAgICAgIFJlbmRlclRhc2tzKCk7XG4gICAgICAgICAgICBSZW5kZXJBZGRUYXNrQnRuKCk7XG4gICAgICAgICAgICB0YXNrRXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5leHBvcnQgeyBwcm9jZXNzUHJvamVjdElucHV0LCByZW5kZXJQcm9qZWN0cywgcHJvamVjdEV2ZW50TGlzdGVuZXIgfTsiLCJpbXBvcnQgeyBwcm9jZXNzUHJvamVjdElucHV0IH0gZnJvbSBcIi4vcHJvamVjdFwiO1xuXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKTtcbmNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKTtcblxuY29uc3QgUHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3QgYnRuQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgY3JlYXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Rm9ybScpO1xuICAgIGJ0bkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdidG5Db250YWluZXInKTtcblxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgncHJvamVjdElucHV0Jyk7XG4gICAgaW5wdXQucGxhY2Vob2xkZXIgPSAnUHJvamVjdCBOYW1lJztcblxuICAgIGNyZWF0ZUJ0bi50ZXh0Q29udGVudCA9ICdDcmVhdGUnO1xuICAgIGNyZWF0ZUJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgY3JlYXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2NyZWF0ZUJ0bicpO1xuXG4gICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gJ0NhbmNlbCc7XG4gICAgY2FuY2VsQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBjYW5jZWxCdG4uY2xhc3NMaXN0LmFkZCgnY2FuY2VsQnRuJyk7XG5cbiAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlQnRuKTtcbiAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTtcbiAgICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoYnRuQ29udGFpbmVyKTtcblxuICAgIHJldHVybiB7IHByb2plY3RGb3JtIH07XG59O1xuXG5jb25zdCByZW5kZXJQcm9qZWN0Rm9ybSA9ICgpID0+IHtcbiAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKTtcblxuICAgIC8vIEFwcGVuZCBmb3JtIHRvIHByb2plY3RDb250ZW50XG4gICAgc2lkZWJhci5hcHBlbmRDaGlsZChQcm9qZWN0Rm9ybSgpLnByb2plY3RGb3JtKTtcbn07XG5cbmZ1bmN0aW9uIHNob3dGb3JtKCkge1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKTtcbiAgICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpO1xuXG4gICAgLy8gSGlkZSBhZGRQcm9qZWN0QnRuXG4gICAgYWRkUHJvamVjdEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIC8vIHNob3cgZm9ybVxuICAgIHByb2plY3RGb3JtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufVxuXG5mdW5jdGlvbiBoaWRlRm9ybSgpIHtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcblxuICAgIC8vIEhpZGUgYWRkUHJvamVjdEJ0blxuICAgIGFkZFByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgLy8gc2hvdyBmb3JtXG4gICAgcHJvamVjdEZvcm0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxzaG93Rm9ybSk7XG5cbiAgICBjb25zdCBjcmVhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3JlYXRlQnRuJyk7XG4gICAgY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJvY2Vzc1Byb2plY3RJbnB1dCk7XG5cbiAgICBjb25zdCBjYW5jZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FuY2VsQnRuJyk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUZvcm0pO1xufTtcblxuXG5leHBvcnQgIHsgcmVuZGVyUHJvamVjdEZvcm0sIGhpZGVGb3JtLCBldmVudExpc3RlbmVycyB9O1xuIiwiaW1wb3J0ICB7IHJlbmRlclByb2plY3RGb3JtLCBldmVudExpc3RlbmVycyB9ICBmcm9tICcuL21vZHVsZXMvcHJvamVjdEZvcm0nO1xuaW1wb3J0IHsgcmVuZGVyUHJvamVjdHMsIHByb2plY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi9tb2R1bGVzL3Byb2plY3QnO1xuXG5yZW5kZXJQcm9qZWN0cygpO1xucmVuZGVyUHJvamVjdEZvcm0oKTtcblxuZXZlbnRMaXN0ZW5lcnMoKTtcbnByb2plY3RFdmVudExpc3RlbmVyKCk7XG5cbi8vIGRlZmF1bHQ6IGhpZGUgcHJvamVjdEZvcm1cbmNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG5wcm9qZWN0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyJdLCJuYW1lcyI6WyJzdG9yYWdlIiwia2V5IiwidmFsdWUiLCJzYXZlIiwiZ2V0QXJyYXkiLCJnZXRTdG9yYWdlIiwicHVzaCIsInNlcmlhbGl6ZWRBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwib3ZlcnJpZGUiLCJwYXJzZSIsImdldEl0ZW0iLCJjb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiUmVuZGVyVGFza3MiLCJwcm9qZWN0TGlzdCIsImN1cnJlbnRQcm9qZWN0SWQiLCJjdXJyZW50UHJvamVjdCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwidGFza3MiLCJsZW5ndGgiLCJ0YXNrRm9ybUV2ZW50TGlzdGVuZXIiLCJjcmVhdGVUYXNrQnRuIiwiY2FuY2VsVGFza0J0biIsImFkZFRhc2tDb250YWluZXIiLCJvdmVybGF5IiwidGFza0Zvcm1Db250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybVZhbGlkYXRpb24iLCJ0aXRsZSIsImRldGFpbHMiLCJkdWVEYXkiLCJwcmlvcml0eSIsIm5ld1Rhc2siLCJjb21wbGV0ZWQiLCJfdGl0bGUiLCJfZGV0YWlscyIsIl9kdWVEYXkiLCJfcHJpb3JpdHkiLCJfY29tcGxldGVkIiwibmV3VGl0bGUiLCJuZXdEZXRhaWxzIiwibmV3RHVlRGF5IiwibmV3UHJpb3JpdHkiLCJuZXdDb21wbGV0ZWQiLCJ0YXNrIiwicHJvY2Vzc1Rhc2tJbnB1dCIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsInRpdGxlRGl2IiwiZHVlRGl2IiwidGl0bGVFcnJvciIsImNyZWF0ZUVsZW1lbnQiLCJkdWVFcnJvciIsImNsYXNzTGlzdCIsImFkZCIsImV4aXN0ZWRUaXRsZUVycm9yIiwiZXhpc3RlZER1ZUVycm9yIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJwcm9jZXNzUHJvamVjdElucHV0IiwicHJvamVjdElucHV0IiwibmV3UHJvamVjdCIsInByb2plY3ROYW1lIiwicHJvamVjdCIsImhpZGVGb3JtIiwic2F2ZVRvTG9jYWxTdG9yYWdlIiwicmVuZGVyUHJvamVjdHMiLCJwcm9qZWN0Q29udGVudCIsImkiLCJwcm9qZWN0Q29udGFpbmVyIiwicHJvamVjdExlbmd0aCIsInN2Z0NvbnRhaW5lciIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwic2hvd0Zvcm0iLCJhZGRQcm9qZWN0QnRuIiwicHJvamVjdEZvcm0iLCJpbnB1dCIsImJ0bkNvbnRhaW5lciIsImNyZWF0ZUJ0biIsImNhbmNlbEJ0biIsInBsYWNlaG9sZGVyIiwiUHJvamVjdEZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImdldEF0dHJpYnV0ZSIsImFkZFRhc2tDb250YWluZXJFeGlzdCIsInN2ZyIsImFkZERpdiIsIlJlbmRlckFkZFRhc2tCdG4iLCJSZW5kZXJUYXNrRm9ybSIsInRhc2tFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==