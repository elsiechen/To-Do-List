(()=>{"use strict";const e=(e,o)=>({save:()=>{const n=t(e);n.push(o);const r=JSON.stringify(n);localStorage.setItem(e,r)},override:()=>{localStorage.setItem(e,o)}}),t=e=>JSON.parse(localStorage.getItem(e))||JSON.parse(JSON.stringify([])),o=document.querySelector(".content"),n=(document.querySelector(".add-task"),()=>{const e=t("projectList"),o=("currentProjectId",JSON.parse(localStorage.getItem("currentProjectId")));let n=e[o];console.log(e),console.log(o),console.log(typeof o),console.log(`first project: ${e[0].name}`),console.log(`currentProject: ${n} `),console.log(`current project name: ${n.name}`),n.tasks.length&&console.log("at least 1 task(s)")}),r=()=>{const e=document.querySelector(".projectInput");let t=(e=>{const t=[];return{name:e,tasks:t,length:t.length}})(e.value);console.log(t),console.log(typeof t),s(),l(t),i(),e.value=""},l=t=>{e("projectList",t).save(),console.log(`save ${t.name} to local storage`)},i=()=>{let e=t("projectList");const o=document.querySelector(".projectContent");o.innerHTML="";for(let t=0;t<e.length;t++){const n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div");n.classList.add("projectContainer"),n.setAttribute("data-project-id",t),r.textContent=e[t].name,l.textContent=e[t].length,l.classList.add("projectLength"),i.innerHTML='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="24" x2="38" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="34" x2="38" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="44" x2="38" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="16" y1="54" x2="38" y2="54"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="24" x2="8" y2="24"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="34" x2="8" y2="34"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="44" x2="8" y2="44"></line> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="12" y1="54" x2="8" y2="54"></line> <polyline fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="14,8 1,8 1,63 45,63 45,8 32,8 "></polyline> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="27,5 27,1 19,1 19,5 15,5 13,13 33,13 31,5 "></polygon> <polygon fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" points="55,1 55,54 59,62 63,54 63,1 "></polygon> <line fill="none" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" x1="55" y1="11" x2="63" y2="11"></line> </g></svg>',n.appendChild(i),n.appendChild(r),n.appendChild(l),o.appendChild(n)}};function c(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="none",t.style.display="block"}function s(){const e=document.querySelector(".add-project"),t=document.querySelector(".projectForm");e.style.display="block",t.style.display="none"}document.querySelector(".sidebar"),document.querySelector(".add-project"),i(),document.querySelector(".sidebar").appendChild((()=>{const e=document.createElement("div"),t=document.createElement("input"),o=document.createElement("div"),n=document.createElement("button"),r=document.createElement("button");return e.classList.add("projectForm"),o.classList.add("btnContainer"),t.setAttribute("type","text"),t.classList.add("projectInput"),t.placeholder="Project Name",n.textContent="Create",n.setAttribute("type","button"),n.classList.add("createBtn"),r.textContent="Cancel",r.setAttribute("type","button"),r.classList.add("cancelBtn"),o.appendChild(n),o.appendChild(r),e.appendChild(t),e.appendChild(o),{projectForm:e}})().projectForm),document.querySelector(".add-project").addEventListener("click",c),document.querySelector(".createBtn").addEventListener("click",r),document.querySelector(".cancelBtn").addEventListener("click",s),t("projectList"),document.querySelectorAll(".projectContainer").forEach((t=>{const r=t.getAttribute("data-project-id");console.log(t),console.log(r),t.addEventListener("click",(()=>{e("currentProjectId",r).override(),console.log(`save ${r} to local storage`),n(),(()=>{const e=document.querySelector(".add-task"),t=document.createElement("div"),n=document.createElement("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="24px" height="24px" fill-rule="evenodd"><path fill-rule="evenodd" d="M 11 2 L 11 11 L 2 11 L 2 13 L 11 13 L 11 22 L 13 22 L 13 13 L 22 13 L 22 11 L 13 11 L 13 2 Z"/></svg>\n    ';const r=document.createElement("div");null!==e&&e.remove(),t.classList.add("add-task"),r.innerHTML="ADD TASK",t.appendChild(n),t.appendChild(r),o.appendChild(t)})()}))})),document.querySelector(".projectForm").style.display="none"})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVN1QixjQUFjLE9BQ25DeUIsRUFBSTVCLFVBQVksd1BBRWhCLE1BQU02QixFQUFTakQsU0FBU3VCLGNBQWMsT0FHVCxPQUExQnVCLEdBQ0NBLEVBQXNCSSxTQUcxQkgsRUFBaUJyQixVQUFVQyxJQUFJLFlBQy9Cc0IsRUFBTzdCLFVBQVksV0FDbkIyQixFQUFpQmpCLFlBQVlrQixHQUM3QkQsRUFBaUJqQixZQUFZbUIsR0FFN0JsRCxFQUFRK0IsWUFBWWlCLEVBQWlCLEVDZ0M3QkksRUFBa0IsR0FFcEIsSUV4RVVuRCxTQUFTQyxjQUFjLGdCQUMvQmlDLE1BQU1DLFFBQVUsTSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy9zdG9yYWdlLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvbW9kdWxlcy90YXNrRm9ybS5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdC5qcyIsIndlYnBhY2s6Ly90by1kby1saXN0Ly4vc3JjL21vZHVsZXMvcHJvamVjdEZvcm0uanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzdG9yYWdlID0gKGtleSwgdmFsdWUpID0+IHtcbiAgICAvLyBTYXZlIG5ldyBvYmplY3QgdG8gYXJyYXlcbiAgICBjb25zdCBzYXZlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBnZXRBcnJheSA9IGdldFN0b3JhZ2Uoa2V5KTtcbiAgICAgICAgLy8gSW1wb3J0YW50OiB0byBzdG9yZSB0aGUgbW9kaWZpZWQgYXJyYXkgdG8gbG9jYWwgc3RvcmFnZSxcbiAgICAgICAgLy8gcHVzaCBuZXcgdmFsdWUgdG8gdGhlIFwib2xkXCIgYXJyYXlcbiAgICAgICAgLy8gYW5kIHN0cmluZ2lmeSBcIm9sZFwiIGFycmF5IHdpdGhvdXQgY3JlYXRpbmcgbmV3XG4gICAgICAgIC8vIGFycmF5IGJlY2F1c2UgcHVzaCgpIHdpbGwgcmV0dXJuIG51bWJlciBvZiBlbGVtZW50XG4gICAgICAgIC8vIGluc2lkZSBhcnJheSBcbiAgICAgICAgLy8gZS5nOiBjb25zdCBhcnJheSA9IFtdLnB1c2gob2JqZWN0KTsgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFycmF5KSByZXR1cm5zIDFcbiAgICAgICAgZ2V0QXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRBcnJheSA9IEpTT04uc3RyaW5naWZ5KGdldEFycmF5KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBzZXJpYWxpemVkQXJyYXkpO1xuICAgIH07XG4gICAgLy8gb3ZlcnJpZGUgb2xkIHZhbHVlIHRvIGtleVxuICAgIGNvbnN0IG92ZXJyaWRlID0gKCkgPT4ge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiB7IHNhdmUsIG92ZXJyaWRlIH07XG59O1xuLy8gZ2V0IGFycmF5IGFzIHZhbHVlXG5jb25zdCBnZXRTdG9yYWdlID0gKGtleSkgPT4ge1xuICAgIHJldHVybiAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSBcbiAgICAgICAgICAgIHx8IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoW10pKTtcbn07XG4vLyBnZXQgc2luZ2xlIG51bWJlciBhcyB2YWx1ZVxuY29uc3QgZ2V0T25lVmFsdWUgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xufTtcblxuZXhwb3J0IHsgc3RvcmFnZSwgZ2V0U3RvcmFnZSwgZ2V0T25lVmFsdWUgfTsiLCJpbXBvcnQgeyBnZXRTdG9yYWdlLCBnZXRPbmVWYWx1ZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcblxuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbmNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKTtcblxuY29uc3QgUmVuZGVyVGFza3MgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBnZXRTdG9yYWdlKCdwcm9qZWN0TGlzdCcpO1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0SWQgPSBnZXRPbmVWYWx1ZSgnY3VycmVudFByb2plY3RJZCcpO1xuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IHByb2plY3RMaXN0W2N1cnJlbnRQcm9qZWN0SWRdO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RMaXN0KTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdElkKTtcbiAgICBjb25zb2xlLmxvZyh0eXBlb2YgY3VycmVudFByb2plY3RJZCk7XG4gICAgXG4gICAgLy8gc29sdXRpb24gdG8gcHJvYmxlbTogaWYgY3VycmVudFByb2plY3RJZCBpcyAwIChmaXJzdCBwcm9qZWN0KVxuICAgIC8vICBpbiBsb2NhbFN0b3JhZ2UsIGl0IGJlY2FtZSBbXSBhbmQgdHlwZW9mIG9iamVjdCAgXG4gICAgLy8gaWYodHlwZW9mIGN1cnJlbnRQcm9qZWN0SWQgIT09ICdudW1iZXInKSB7XG4gICAgLy8gICAgIGN1cnJlbnRQcm9qZWN0ID0gcHJvamVjdExpc3RbMF07XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9qZWN0KTtcbiAgICAvLyB9XG4gICAgY29uc29sZS5sb2coYGZpcnN0IHByb2plY3Q6ICR7cHJvamVjdExpc3RbMF0ubmFtZX1gKTtcbiAgICBjb25zb2xlLmxvZyhgY3VycmVudFByb2plY3Q6ICR7Y3VycmVudFByb2plY3R9IGApXG4gICAgY29uc29sZS5sb2coYGN1cnJlbnQgcHJvamVjdCBuYW1lOiAke2N1cnJlbnRQcm9qZWN0Lm5hbWV9YClcblxuICAgIGlmKGN1cnJlbnRQcm9qZWN0LnRhc2tzLmxlbmd0aCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhdCBsZWFzdCAxIHRhc2socyknKVxuICAgIH1cbn07XG5cbmNvbnN0IFJlbmRlckFkZFRhc2tCdG4gPSAoKSA9PiB7XG4gICAgY29uc3QgYWRkVGFza0NvbnRhaW5lckV4aXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC10YXNrJyk7XG4gICAgY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHN2Zy5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0cHhcIiBoZWlnaHQ9XCIyNHB4XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTSAxMSAyIEwgMTEgMTEgTCAyIDExIEwgMiAxMyBMIDExIDEzIEwgMTEgMjIgTCAxMyAyMiBMIDEzIDEzIEwgMjIgMTMgTCAyMiAxMSBMIDEzIDExIEwgMTMgMiBaXCIvPjwvc3ZnPlxuICAgIGA7XG4gICAgY29uc3QgYWRkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBhZGQgdGFzayBidG5cbiAgICBpZihhZGRUYXNrQ29udGFpbmVyRXhpc3QgIT09IG51bGwpe1xuICAgICAgICBhZGRUYXNrQ29udGFpbmVyRXhpc3QucmVtb3ZlKCk7XG4gICAgfVxuICAgIC8vIEFkZCBuZXcgYWRkIHRhc2sgYnRuXG4gICAgYWRkVGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhZGQtdGFzaycpO1xuICAgIGFkZERpdi5pbm5lckhUTUwgPSAnQUREIFRBU0snO1xuICAgIGFkZFRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICBhZGRUYXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZERpdik7XG5cbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGFkZFRhc2tDb250YWluZXIpO1xufTtcbi8vIGNvbnN0IFJlbmRlclRhc2tGb3JtID0gKCkgPT4ge1xuLy8gICAgIGNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vICAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Rhc2tDb250YWluZXInKTtcblxuLy8gfTtcblxuXG5cblxuZXhwb3J0IHsgUmVuZGVyVGFza3MsIFJlbmRlckFkZFRhc2tCdG4gfTtcbiIsImltcG9ydCB7IHN0b3JhZ2UsIGdldFN0b3JhZ2UgfSBmcm9tICcuL3N0b3JhZ2UnO1xuaW1wb3J0ICB7IGhpZGVGb3JtIH0gIGZyb20gJy4vcHJvamVjdEZvcm0nO1xuaW1wb3J0IHsgUmVuZGVyVGFza3MsIFJlbmRlckFkZFRhc2tCdG4gfSBmcm9tICcuL3Rhc2tGb3JtJztcblxuLy8gbGV0IHByb2plY3RMaXN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RMaXN0Jyk7XG4vLyBwcm9qZWN0TGlzdCA9IHByb2plY3RMaXN0PyBKU09OLnBhcnNlKHByb2plY3RMaXN0KTogW107XG5cbmNvbnN0IHByb2plY3QgPSAocHJvamVjdE5hbWUpID0+IHtcbiAgICBjb25zdCB0YXNrcyA9IFtdO1xuICAgIGNvbnN0IGxlbmd0aCA9IHRhc2tzLmxlbmd0aDtcbiAgICBjb25zdCBuYW1lID0gcHJvamVjdE5hbWU7XG5cbiAgICByZXR1cm4geyBuYW1lLCB0YXNrcywgbGVuZ3RoIH1cbn07XG5cbmNvbnN0IHByb2Nlc3NQcm9qZWN0SW5wdXQgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RJbnB1dCcpO1xuICAgIGxldCBuZXdQcm9qZWN0ID0gcHJvamVjdChwcm9qZWN0SW5wdXQudmFsdWUpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKG5ld1Byb2plY3QpXG4gICAgY29uc29sZS5sb2codHlwZW9mIG5ld1Byb2plY3QpO1xuICAgIGhpZGVGb3JtKCk7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKG5ld1Byb2plY3QpO1xuICAgIHJlbmRlclByb2plY3RzKCk7XG5cbiAgICAvLyBjbGVhciBwcm9qZWN0IGlucHV0IGFmdGVyIHNhdmVcbiAgICBwcm9qZWN0SW5wdXQudmFsdWUgPSAnJztcbn07XG5cbmNvbnN0IHNhdmVUb0xvY2FsU3RvcmFnZSA9IChwcm9qZWN0KSA9PiB7XG4gICAgc3RvcmFnZSgncHJvamVjdExpc3QnLCBwcm9qZWN0KS5zYXZlKCk7XG4gICAgY29uc29sZS5sb2coYHNhdmUgJHtwcm9qZWN0Lm5hbWV9IHRvIGxvY2FsIHN0b3JhZ2VgKSAgXG59O1xuXG5jb25zdCByZW5kZXJQcm9qZWN0cyA9ICgpID0+IHtcbiAgICBsZXQgcHJvamVjdExpc3QgPSBnZXRTdG9yYWdlKCdwcm9qZWN0TGlzdCcpO1xuXG4gICAgY29uc3QgcHJvamVjdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdENvbnRlbnQnKTtcbiAgICAvLyBjbGVhciBwcm9qZWN0IGNvbnRlbnRcbiAgICBwcm9qZWN0Q29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAvLyByZW5kZXIgbmV3IHByb2plY3QgY29udGVudFxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9qZWN0TGlzdC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgcHJvamVjdExlbmd0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCBzdmdDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RDb250YWluZXInKTtcbiAgICAgICAgLy8gc2V0IHByb2plY3QgaWQgdG8gc3BlY2lmaWMgcHJvamVjdCBjb250YWluZXJcbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGkpO1xuXG4gICAgICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gcHJvamVjdExpc3RbaV0ubmFtZTtcbiAgICAgICAgcHJvamVjdExlbmd0aC50ZXh0Q29udGVudCA9IHByb2plY3RMaXN0W2ldLmxlbmd0aDtcbiAgICAgICAgcHJvamVjdExlbmd0aC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0TGVuZ3RoJyk7XG4gICAgICAgIC8vIGFwcGVuZCBzdmcgXG5cbiAgICAgICAgc3ZnQ29udGFpbmVyLmlubmVySFRNTCA9IGA8c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkxheWVyXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIGZpbGw9XCIjZmZmZmZmXCI+PGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMjRcIiB4Mj1cIjM4XCIgeTI9XCIyNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCIzNFwiIHgyPVwiMzhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjQ0XCIgeDI9XCIzOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiNTRcIiB4Mj1cIjM4XCIgeTI9XCI1NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCIyNFwiIHgyPVwiOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMzRcIiB4Mj1cIjhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjQ0XCIgeDI9XCI4XCIgeTI9XCI0NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI1NFwiIHgyPVwiOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxwb2x5bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjE0LDggMSw4IDEsNjMgNDUsNjMgNDUsOCAzMiw4IFwiPjwvcG9seWxpbmU+IDxwb2x5Z29uIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgcG9pbnRzPVwiMjcsNSAyNywxIDE5LDEgMTksNSAxNSw1IDEzLDEzIDMzLDEzIDMxLDUgXCI+PC9wb2x5Z29uPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjU1LDEgNTUsNTQgNTksNjIgNjMsNTQgNjMsMSBcIj48L3BvbHlnb24+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCI1NVwiIHkxPVwiMTFcIiB4Mj1cIjYzXCIgeTI9XCIxMVwiPjwvbGluZT4gPC9nPjwvc3ZnPmA7XG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnQ29udGFpbmVyKTtcbiAgICAgICAgLy8gcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZCg8c3ZnIHZlcnNpb249XCIxLjFcIiBpZD1cIkxheWVyXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIGZpbGw9XCIjZmZmZmZmXCI+PGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+PGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiMjRcIiB4Mj1cIjM4XCIgeTI9XCIyNFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjE2XCIgeTE9XCIzNFwiIHgyPVwiMzhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTZcIiB5MT1cIjQ0XCIgeDI9XCIzOFwiIHkyPVwiNDRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxNlwiIHkxPVwiNTRcIiB4Mj1cIjM4XCIgeTI9XCI1NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCIyNFwiIHgyPVwiOFwiIHkyPVwiMjRcIj48L2xpbmU+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCIxMlwiIHkxPVwiMzRcIiB4Mj1cIjhcIiB5Mj1cIjM0XCI+PC9saW5lPiA8bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHgxPVwiMTJcIiB5MT1cIjQ0XCIgeDI9XCI4XCIgeTI9XCI0NFwiPjwvbGluZT4gPGxpbmUgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiB4MT1cIjEyXCIgeTE9XCI1NFwiIHgyPVwiOFwiIHkyPVwiNTRcIj48L2xpbmU+IDxwb2x5bGluZSBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjE0LDggMSw4IDEsNjMgNDUsNjMgNDUsOCAzMiw4IFwiPjwvcG9seWxpbmU+IDxwb2x5Z29uIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgcG9pbnRzPVwiMjcsNSAyNywxIDE5LDEgMTksNSAxNSw1IDEzLDEzIDMzLDEzIDMxLDUgXCI+PC9wb2x5Z29uPiA8cG9seWdvbiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHBvaW50cz1cIjU1LDEgNTUsNTQgNTksNjIgNjMsNTQgNjMsMSBcIj48L3BvbHlnb24+IDxsaW5lIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgeDE9XCI1NVwiIHkxPVwiMTFcIiB4Mj1cIjYzXCIgeTI9XCIxMVwiPjwvbGluZT4gPC9nPjwvc3ZnPik7XG4gICAgICAgIHByb2plY3RDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RMZW5ndGgpO1xuXG4gICAgICAgIHByb2plY3RDb250ZW50LmFwcGVuZENoaWxkKHByb2plY3RDb250YWluZXIpO1xuICAgIH1cbn07XG5cbmNvbnN0IHByb2plY3RFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZ2V0U3RvcmFnZSgncHJvamVjdExpc3QnKTtcbiAgICBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0Q29udGFpbmVyJyk7XG4gICAgcHJvamVjdHMuZm9yRWFjaChwcm9qZWN0ID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFByb2plY3RJZCA9IHByb2plY3QuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QtaWQnKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9qZWN0SWQpO1xuICAgICAgICAgXG4gICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBzYXZlIGN1cnJlbnQgcHJvamVjdCBpZCB0byBsb2NhbCBzdG9yYWdlIFxuICAgICAgICAgICAgc3RvcmFnZSgnY3VycmVudFByb2plY3RJZCcsIGN1cnJlbnRQcm9qZWN0SWQpLm92ZXJyaWRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgc2F2ZSAke2N1cnJlbnRQcm9qZWN0SWR9IHRvIGxvY2FsIHN0b3JhZ2VgKSBcbiAgICAgICAgICAgIFJlbmRlclRhc2tzKCk7XG4gICAgICAgICAgICBSZW5kZXJBZGRUYXNrQnRuKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcHJvY2Vzc1Byb2plY3RJbnB1dCwgcmVuZGVyUHJvamVjdHMsIHByb2plY3RFdmVudExpc3RlbmVyIH07IiwiaW1wb3J0IHsgcHJvY2Vzc1Byb2plY3RJbnB1dCB9IGZyb20gXCIuL3Byb2plY3RcIjtcblxuY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG5cbmNvbnN0IFByb2plY3RGb3JtID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IGJ0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGNyZWF0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgncHJvamVjdEZvcm0nKTtcbiAgICBidG5Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYnRuQ29udGFpbmVyJyk7XG5cbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RJbnB1dCcpO1xuICAgIGlucHV0LnBsYWNlaG9sZGVyID0gJ1Byb2plY3QgTmFtZSc7XG5cbiAgICBjcmVhdGVCdG4udGV4dENvbnRlbnQgPSAnQ3JlYXRlJztcbiAgICBjcmVhdGVCdG4uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGNyZWF0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdjcmVhdGVCdG4nKTtcblxuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9ICdDYW5jZWwnO1xuICAgIGNhbmNlbEJ0bi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgY2FuY2VsQnRuLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbEJ0bicpO1xuXG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUJ0bik7XG4gICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ0bik7XG4gICAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKGJ0bkNvbnRhaW5lcik7XG5cbiAgICByZXR1cm4geyBwcm9qZWN0Rm9ybSB9O1xufTtcblxuY29uc3QgcmVuZGVyUHJvamVjdEZvcm0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7XG5cbiAgICAvLyBBcHBlbmQgZm9ybSB0byBwcm9qZWN0Q29udGVudFxuICAgIHNpZGViYXIuYXBwZW5kQ2hpbGQoUHJvamVjdEZvcm0oKS5wcm9qZWN0Rm9ybSk7XG59O1xuXG5mdW5jdGlvbiBzaG93Rm9ybSgpIHtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcblxuICAgIC8vIEhpZGUgYWRkUHJvamVjdEJ0blxuICAgIGFkZFByb2plY3RCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAvLyBzaG93IGZvcm1cbiAgICBwcm9qZWN0Rm9ybS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn1cblxuZnVuY3Rpb24gaGlkZUZvcm0oKSB7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdCcpO1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyk7XG5cbiAgICAvLyBIaWRlIGFkZFByb2plY3RCdG5cbiAgICBhZGRQcm9qZWN0QnRuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIC8vIHNob3cgZm9ybVxuICAgIHByb2plY3RGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG5jb25zdCBldmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1wcm9qZWN0Jyk7XG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsc2hvd0Zvcm0pO1xuXG4gICAgY29uc3QgY3JlYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNyZWF0ZUJ0bicpO1xuICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHByb2Nlc3NQcm9qZWN0SW5wdXQpO1xuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbmNlbEJ0bicpO1xuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVGb3JtKTtcbn07XG5cblxuZXhwb3J0ICB7IHJlbmRlclByb2plY3RGb3JtLCBoaWRlRm9ybSwgZXZlbnRMaXN0ZW5lcnMgfTtcbiIsImltcG9ydCAgeyByZW5kZXJQcm9qZWN0Rm9ybSwgZXZlbnRMaXN0ZW5lcnMgfSAgZnJvbSAnLi9tb2R1bGVzL3Byb2plY3RGb3JtJztcbmltcG9ydCB7IHJlbmRlclByb2plY3RzLCBwcm9qZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vbW9kdWxlcy9wcm9qZWN0JztcblxucmVuZGVyUHJvamVjdHMoKTtcbnJlbmRlclByb2plY3RGb3JtKCk7XG5ldmVudExpc3RlbmVycygpO1xucHJvamVjdEV2ZW50TGlzdGVuZXIoKTtcblxuLy8gZGVmYXVsdDogaGlkZSBwcm9qZWN0Rm9ybVxuY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdEZvcm0nKTtcbnByb2plY3RGb3JtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7Il0sIm5hbWVzIjpbInN0b3JhZ2UiLCJrZXkiLCJ2YWx1ZSIsInNhdmUiLCJnZXRBcnJheSIsImdldFN0b3JhZ2UiLCJwdXNoIiwic2VyaWFsaXplZEFycmF5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJvdmVycmlkZSIsInBhcnNlIiwiZ2V0SXRlbSIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJSZW5kZXJUYXNrcyIsInByb2plY3RMaXN0IiwiY3VycmVudFByb2plY3RJZCIsImN1cnJlbnRQcm9qZWN0IiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJ0YXNrcyIsImxlbmd0aCIsInByb2Nlc3NQcm9qZWN0SW5wdXQiLCJwcm9qZWN0SW5wdXQiLCJuZXdQcm9qZWN0IiwicHJvamVjdE5hbWUiLCJwcm9qZWN0IiwiaGlkZUZvcm0iLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJyZW5kZXJQcm9qZWN0cyIsInByb2plY3RDb250ZW50IiwiaW5uZXJIVE1MIiwiaSIsInByb2plY3RDb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwicHJvamVjdExlbmd0aCIsInN2Z0NvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaG93Rm9ybSIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0Rm9ybSIsInN0eWxlIiwiZGlzcGxheSIsImlucHV0IiwiYnRuQ29udGFpbmVyIiwiY3JlYXRlQnRuIiwiY2FuY2VsQnRuIiwicGxhY2Vob2xkZXIiLCJQcm9qZWN0Rm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImdldEF0dHJpYnV0ZSIsImFkZFRhc2tDb250YWluZXJFeGlzdCIsImFkZFRhc2tDb250YWluZXIiLCJzdmciLCJhZGREaXYiLCJyZW1vdmUiLCJSZW5kZXJBZGRUYXNrQnRuIl0sInNvdXJjZVJvb3QiOiIifQ==